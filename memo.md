## M5StickCPlusの設定

- このコードではm5stickの加速度センサで取得した加速度を取得し10秒の平均加速度をサーバーに送信する。
- wifi設定、デバイスid、サーバーipは任意のものを設定する。

``` c++
const char* ssid = "ASUS_28_2G"; //wifiの名前
const char* password = "morning_6973"; //wifiパスワード
const char* server_ip = "192.168.50.9"; //サーバーのipアドレス
const int server_port = 3002;
const int device_id = 3; //m5stickのID。複数台接続するときは重複しないようにする
```

## その他学んだこと

### 加速度の求め方
- 加速度は物体の速度の変化率を表す物理量

#### 式
- 加速度a = 速度の変化（終速度 - 初速度）Δν / その変化にかかった時間Δt

##### 例題
- ある車が静止状態から 5秒間に 20m/sの速度まで加速した場合、この車の平均加速度はいくらになりますか？

##### 求め方
- 初速度0 m/s, 終速度20 m/s, 時間5 sなので20 m/s / 5 s = 4 m/s^2
- よって車の平均加速度は 4 m/s^2になる。この結果から車が毎秒4 m/sの速さで速度が増加していることを意味する。

### 角速度の求め方
- 角速度は、ある回転軸を中心に物体がどれだけの速さで回転しているかを表す物理量
- 角速度は、特定の時間内に物体が回転した角度に対する時間の比率で計算される。

#### 式
- 角速度ω(rad/s) = 回転した角度(単位ラジアン)ΔΘ / 回転にかかった時間Δt

##### 例題
- ある物体が2秒間4piラジアンだけ回転した場合の角速度を求める。

##### 求め方
- pi = 3.14だとして12.56radだから
12.56 rad / 2 s = 6.28 rad/s
- これは物体が毎秒6.28ラジアンだけ回転していることを意味する。この数値は一秒間に約一回転(2pi rad)している速さに相当する。

### 角加速度の求め方
- 角加速度は、物体の角速度の変化率を表す物理量。特に回転運動をしている物体の加速度を扱う際に使用される。

#### 式
- 角加速度α(rad/s) = 速度の変化（終角速度 - 初角速度）Δω / その変化にかかった時間Δt

##### 例題
- ある点が３秒の間に初角速度0 rad/sから6 rad/sへと加速した場合のこの点の角速度を求める。

##### 求め方
- 上記の式にΔωに(6 rad/s - 0 rad/s)を代入してΔtに3 sを代入すると、2 rad/s^2になる。
- これは、点が毎秒2 rad/s^2の割合で角速度を増加していることを意味する。

### カルマンフィルタとは
- カルマンフィルタは、複数の不確実な情報を用いて、より正確な情報を推定することを目的として使われる。
#### 例
- 距離センサとホイールのセンサーを用いてロボットの位置を測定することを考える。ただし、２つのセンサには誤差があり、正確な位置は測定できないとする。
距離センサーを使ってロボットの現在位置を計測したいが、センサーの値には誤差がある。
車輪の回転数を計測すれば過去の一からの移動距離がわかるので、現在位置を割り出すことができる。しかし車輪と床との間には摩擦があるため、これによって得られた現在位置も正確ではない。
・距離センサーによって得られたロボットの現在の位置
・過去の位置を基準として車輪の回転数から割り出したロボットの現在位置
このどちらもが正確な値ではない。
なんとかしてこの２つの情報から、ロボットのより正確な位置を求めたい。
ここでカルマンフィルタを用いると、不確実な２つのセンサーの値を合成することでより正確な位置情報を得ることができる。
このように、
1.あるシステムについて不確実な情報のみが得られている
2.不確実な情報を組み合わせることで、より正確な情報を得たい
というときにカルマンフィルタを用いることができる。

#### 参考資料
- [gakutosasabe/Gitter](https://github.com/gakutosasabe/Gitter)
- [【Arduino】ディスプレイ付きマイコン「M5StickC Plus」の６軸IMUを使って傾きを測定してみる！](https://karakuri-musha.com/inside-technology/arduino-m5stickc-plus-10-imu-01/)
- [M5StickC(MPU6886)+ENV Hatで姿勢推定する(Kalmanフィルタ編)](https://qiita.com/hatt_takumi/items/dde4f8c62d60841de904)
- [学研さんと「加速度センサー」のヒミツについて調べてみました。](https://www.nintendo.com/jp/topics/article/933eb428-b313-11e7-8cda-063b7ac45a6d)
- [世界一分かりやすいカルマンフィルタの理論と導出と実装](https://disassemble-channel.com/the-theory-of-kalman-filter/#google_vignette)
